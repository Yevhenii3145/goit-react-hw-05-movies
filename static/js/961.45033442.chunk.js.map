{"version":3,"file":"static/js/961.45033442.chunk.js","mappings":"iRAMe,SAASA,IAAgB,IAAD,IACnC,GAA0BC,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA8BF,EAAAA,EAAAA,WAAS,GAAvC,eAAOG,EAAP,KAAgBC,EAAhB,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,MAAnC,eAAOK,EAAP,KAAcC,EAAd,KAEQC,GAAYC,EAAAA,EAAAA,MAAZD,QACFE,EAAKF,EAAQG,SAAS,KAAOC,OAAOJ,EAAQK,MAAM,EAAGL,EAAQM,SAAWN,EACxEO,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACXC,EAAI,oBAAGF,EAASG,aAAZ,aAAG,EAAgBD,YAAnB,QAA2B,WAErCE,EAAAA,EAAAA,YAAU,WACN,IAAMC,EAAU,mCAAG,oGAEXjB,GAAW,GACXE,EAAS,MAHE,UAIQgB,EAAAA,EAAAA,IAAab,GAJrB,OAILc,EAJK,OAKXrB,EAASqB,GALE,gDAOXjB,EAAS,EAAD,IAPG,yBASXF,GAAW,GATA,4EAAH,qDAYhBiB,GACH,GAAE,CAACZ,IAIJ,GAAKR,EAAL,CAIA,IAAMuB,EAASvB,EAAMuB,OAAOC,KAAI,YAAmB,IAAhBhB,EAAe,EAAfA,GAAIiB,EAAW,EAAXA,KACnC,OACI,eAAaC,MAAO,CAAEC,YAAa,QAAnC,SAA8CF,GAArCjB,EAEhB,IAGKoB,EADab,EAASc,SAASpB,SAAS,QACnB,mBAAeD,GAAf,mBAAkCA,EAAlC,SAErBsB,EADgBf,EAASc,SAASpB,SAAS,WAChB,mBAAeD,GAAf,mBAAkCA,EAAlC,YAEjC,OACI,iCACI,4BACI,mBAAQkB,MAAO,CAAEK,aAAc,OAAQC,WAAY,QAAUC,QApB1D,kBAAMpB,EAASI,EAAf,EAoBH,qBACCf,IAAW,SAAC,IAAD,IACXE,IAAS,mDACTJ,IAAU,iCACP,iBAAK0B,MAAO,CAAEQ,QAAS,QAAvB,WACI,gBAAKR,MAAO,CAAEC,YAAa,QACvBQ,MAAM,MACNC,IAAG,0CAAqCpC,EAAK,aAC7CqC,IAAKrC,EAAMsC,SAEf,4BACI,wBAAKtC,EAAMsC,SACX,wCAAgBtC,EAAMuC,WAAtB,SACA,sCACA,uBAAIvC,EAAMwC,YACV,oCACA,eAAId,MAAO,CAAEe,UAAW,OAAQP,QAAS,QAAzC,SAAoDX,WAI5D,2BACI,yBAAI,SAAC,KAAD,CAAML,MAAO,CAAED,KAAAA,GAAQyB,GAAId,EAA3B,qBACJ,yBAAI,SAAC,KAAD,CAAMV,MAAO,CAAED,KAAAA,GAAQyB,GAAIZ,EAA3B,iCAKhB,SAAC,KAAD,MA3CP,CA8CJ,C","sources":["pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useParams, Outlet, useNavigate, useLocation, Link } from 'react-router-dom';\nimport { getMovieById } from '../../shared/api/gettingData'\nimport Loader from '../../shared/Loader/Loader'\n\n\nexport default function MovieDetails() {\n    const [movie, setMovie] = useState(null);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n\n    const { movieId } = useParams();\n    const id = movieId.includes(':') ? Number(movieId.slice(1, movieId.length)) : movieId;\n    const navigate = useNavigate();\n    const location = useLocation();\n    const from = location.state?.from ?? \"/movies\";\n\n    useEffect(() => {\n        const fetchMovie = async () => {\n            try {\n                setLoading(true);\n                setError(null);\n                const data = await getMovieById(id);\n                setMovie(data);\n            } catch (error) {\n                setError(error);\n            } finally {\n                setLoading(false);\n            }\n        }\n        fetchMovie();\n    }, [id]);\n\n    const goBack = () => navigate(from);\n\n    if (!movie) {\n        return;\n    }\n\n    const genres = movie.genres.map(({ id, name }) => {\n        return (\n            <li key={id} style={{ marginRight: \"20px\" }}>{name}</li >\n        )\n    })\n\n    const isCastPage = location.pathname.includes(\"cast\");\n    const castLink = isCastPage ? `/movies/:${id}` : `/movies/:${id}/cast`;\n    const isReviewsPage = location.pathname.includes(\"reviews\");\n    const reviewsLink = isReviewsPage ? `/movies/:${id}` : `/movies/:${id}/reviews`;\n\n    return (\n        <>\n            <div>\n                <button style={{ marginBottom: '20px', marginLeft: '20px' }} onClick={goBack}>Go back</button>\n                {loading && <Loader />}\n                {error && <p>Something went wrong ((</p>}\n                {movie && (<>\n                    <div style={{ display: \"flex\" }}>\n                        <img style={{ marginRight: \"40px\" }}\n                            width=\"250\"\n                            src={`https://image.tmdb.org/t/p/w500/${movie[\"poster_path\"]}`}\n                            alt={movie.title}\n                        />\n                        <div>\n                            <h2>{movie.title}</h2>\n                            <p>User Score: {movie.popularity} %</p>\n                            <h3>Overwiew</h3>\n                            <p>{movie.overview}</p>\n                            <h3>Genres</h3>\n                            <ul style={{ listStyle: \"none\", display: \"flex\" }}>{genres}</ul>\n                        </div>\n                    </div>\n\n                    <ul>\n                        <li><Link state={{ from }} to={castLink}>Cast</Link></li>\n                        <li><Link state={{ from }} to={reviewsLink}>Reviews</Link></li>\n                    </ul>\n\n                </>)}\n            </div>\n            <Outlet />\n        </>\n    )\n}\n"],"names":["MovieDetails","useState","movie","setMovie","loading","setLoading","error","setError","movieId","useParams","id","includes","Number","slice","length","navigate","useNavigate","location","useLocation","from","state","useEffect","fetchMovie","getMovieById","data","genres","map","name","style","marginRight","castLink","pathname","reviewsLink","marginBottom","marginLeft","onClick","display","width","src","alt","title","popularity","overview","listStyle","to"],"sourceRoot":""}