{"version":3,"file":"static/js/367.fe41ba25.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/nanoid/index.browser.js","components/MoviesSearchForm/fields.js","components/MoviesSearchForm/MoviesSearchForm.jsx","components/FilmList/FilmList.jsx","components/MoviesSearch/MoviesSearch.jsx","pages/Movies/Movies.jsx"],"sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","export { urlAlphabet } from './url-alphabet/index.js'\nexport let random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nexport let customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nexport let customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nexport let nanoid = (size = 21) =>\n  crypto.getRandomValues(new Uint8Array(size)).reduce((id, byte) => {\n    byte &= 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte > 62) {\n      id += '-'\n    } else {\n      id += '_'\n    }\n    return id\n  }, '')\n","const fields = {\n    search: {\n        label: \"Search\",\n        type: \"text\",\n        name: \"search\",\n        placeholder: \"Enter search text\",\n        required: true,\n    }\n}\n\nexport default fields;","import { useState } from \"react\";\nimport { nanoid } from \"nanoid\";\nimport fields from \"./fields\";\n\nexport default function MoviesSearchForm({ onSubmit }) {\n    const [state, setState] = useState({ search: \"\" });\n\n    const handleChange = ({ target }) => {\n        const { value } = target;\n        setState(prevState => ({\n            ...prevState,\n            search: value,\n        }))\n    }\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        onSubmit({ ...state });\n        setState({ search: \"\" });\n    }\n\n    const id = nanoid();\n\n    return (\n        <form onSubmit={handleSubmit} >\n            <label htmlFor={id}></label>\n            <input id={id} value={state.search} onChange={handleChange} {...fields.search} />\n            <button type=\"submit\">Search</button>\n        </form>\n    )\n}","import { useLocation, Link } from 'react-router-dom';\n\nexport default function FilmList({ items }) {\n    const location = useLocation();\n    const elements = items.map(({ id, title }) => (\n        <li key={id}><Link state={{ from: location }} to={`/movies/${id}`}>{title}</Link></li>\n    ));\n\n    return <ul>{elements}</ul>\n}","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { getMoviesByQuery } from 'shared/api/gettingData';\nimport Loader from 'shared/Loader/Loader';\nimport MoviesSearchForm from 'components/MoviesSearchForm/MoviesSearchForm';\nimport FilmList from 'components/FilmList/FilmList';\n\n\nexport default function MoviesSearch() {\n    const [items, setItems] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n    const [searchParams, setSearchParams] = useSearchParams();\n    const searchQuery = searchParams.get(\"query\")\n\n    useEffect(() => {\n        const fetchPosts = async () => {\n            try {\n                setLoading(true);\n                const data = await getMoviesByQuery(searchQuery);\n                setItems(data.results);\n            } catch (error) {\n                setError(error);\n            }\n            finally {\n                setLoading(false);\n            }\n        }\n        if (searchQuery) {\n            fetchPosts()\n        }\n    }, [searchQuery]);\n\n\n    const onSearch = ({ search }) => {\n        setSearchParams({ query: search });\n        // setItems([])\n    }\n    const isFilms = Boolean(items.length);\n    return (\n        <>\n            {loading && <Loader />}\n            {error && <p>Somthing went wrong!</p>}\n            <MoviesSearchForm onSubmit={onSearch} />\n            {isFilms && <FilmList items={items} />}\n        </>\n    )\n}","import { Outlet } from \"react-router-dom\"\nimport MoviesSearch from \"components/MoviesSearch/MoviesSearch\"\n\nexport default function Movies() {\n    return (\n        <>\n            <div>\n                <MoviesSearch />\n            </div>\n            <Outlet />\n        </>\n    )\n}\n"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","search","label","type","name","placeholder","required","MoviesSearchForm","onSubmit","useState","state","setState","id","size","crypto","getRandomValues","Uint8Array","reduce","byte","toString","toUpperCase","nanoid","event","preventDefault","htmlFor","onChange","prevState","fields","FilmList","items","location","useLocation","elements","map","title","from","to","MoviesSearch","setItems","loading","setLoading","error","setError","useSearchParams","searchParams","setSearchParams","searchQuery","get","useEffect","fetchPosts","getMoviesByQuery","data","results","isFilms","Boolean","Loader","query","Movies"],"sourceRoot":""}